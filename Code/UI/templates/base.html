<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}YouTube Pipeline UI{% endblock %}</title>
    
    <!-- Preload critical resources for performance -->
    <link rel="preload" href="{{ url_for('static', filename='css/custom.css') }}" as="style">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js" as="script">
    
    <!-- Tailwind CSS CDN for rapid development -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/custom.css') }}">
    
    <!-- Tailwind Configuration -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#eff6ff',
                            100: '#dbeafe',
                            200: '#bfdbfe',
                            300: '#93c5fd',
                            400: '#60a5fa',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                            800: '#1e40af',
                            900: '#1e3a8a'
                        },
                        youtube: {
                            red: '#ff0000',
                            dark: '#0f0f0f'
                        },
                        success: {
                            50: '#f0fdf4',
                            500: '#22c55e',
                            600: '#16a34a',
                            700: '#15803d'
                        },
                        warning: {
                            50: '#fffbeb',
                            500: '#f59e0b',
                            600: '#d97706',
                            700: '#b45309'
                        },
                        error: {
                            50: '#fef2f2',
                            500: '#ef4444',
                            600: '#dc2626',
                            700: '#b91c1c'
                        }
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.3s ease-in-out',
                        'slide-in': 'slideIn 0.3s ease-out',
                        'bounce-subtle': 'bounceSubtle 0.6s ease-in-out',
                        'pulse-slow': 'pulse 3s infinite',
                        'spin-slow': 'spin 2s linear infinite'
                    },
                    transitionDuration: {
                        '250': '250ms',
                        '400': '400ms'
                    }
                }
            }
        }
    </script>
    
    <!-- Accessibility and SEO meta tags -->
    <meta name="description" content="Professional YouTube content processing pipeline with advanced segment selection and workflow automation">
    <meta name="keywords" content="youtube, video processing, content creation, pipeline automation">
    <meta name="theme-color" content="#3b82f6">
    
    <!-- Additional head content -->
    {% block head %}{% endblock %}
</head>
<body class="bg-gray-50 font-sans antialiased transition-colors duration-300" data-theme="light">
    <!-- Skip to main content link for screen readers -->
    <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-2 focus:left-2 bg-primary-600 text-white px-4 py-2 rounded-md z-50 transition-all duration-200">
        Skip to main content
    </a>
    
    <!-- Global loading overlay -->
    <div id="global-loading" class="hidden fixed inset-0 bg-gray-900 bg-opacity-50 z-50 flex items-center justify-center">
        <div class="bg-white rounded-lg p-6 shadow-xl">
            <div class="flex items-center space-x-3">
                <div class="spinner border-primary-500"></div>
                <span class="text-gray-700 font-medium">Processing...</span>
            </div>
        </div>
    </div>
    
    <!-- Navigation -->
    <nav class="bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40 transition-shadow duration-300" role="navigation" aria-label="Main navigation">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex">
                    <!-- Logo -->
                    <div class="flex-shrink-0 flex items-center">
                        <a href="{{ url_for('main.index') }}" 
                           class="text-xl font-bold text-gray-900 hover:text-primary-600 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 rounded-md px-2 py-1"
                           aria-label="YouTube Pipeline UI Home">
                            <span class="inline-flex items-center space-x-2">
                                <span class="text-2xl" aria-hidden="true">ðŸŽ¬</span>
                                <span>YouTube Pipeline UI</span>
                            </span>
                        </a>
                    </div>
                    
                    <!-- Primary Navigation -->
                    <div class="hidden md:ml-6 md:flex md:space-x-8" role="menubar">
                        <a href="{{ url_for('main.index') }}" 
                           class="nav-link {% if request.endpoint == 'main.index' %}border-primary-500 text-primary-600{% else %}border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300{% endif %} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-all duration-200"
                           role="menuitem"
                           aria-current="{% if request.endpoint == 'main.index' %}page{% else %}false{% endif %}">
                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z" />
                            </svg>
                            Dashboard
                        </a>
                        
                        <a href="{{ url_for('episodes.episodes_dashboard') }}" 
                           class="nav-link {% if request.endpoint == 'episodes.episodes_dashboard' %}border-primary-500 text-primary-600{% else %}border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300{% endif %} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-all duration-200"
                           role="menuitem"
                           aria-current="{% if request.endpoint == 'episodes.episodes_dashboard' %}page{% else %}false{% endif %}">
                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2h4a1 1 0 011 1v2H3V5a1 1 0 011-1h3z" />
                            </svg>
                            Episodes
                        </a>
                          <a href="{{ url_for('pipeline.pipeline_dashboard') }}" 
                           class="nav-link {% if request.endpoint and 'pipeline' in request.endpoint %}border-primary-500 text-primary-600{% else %}border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300{% endif %} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-all duration-200"
                           role="menuitem"
                           aria-current="{% if request.endpoint and 'pipeline' in request.endpoint %}page{% else %}false{% endif %}">
                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                            </svg>
                            Pipeline
                        </a>
                          <a href="{{ url_for('segments.segments_dashboard') }}" 
                           class="nav-link {% if request.endpoint and 'segments' in request.endpoint %}border-primary-500 text-primary-600{% else %}border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300{% endif %} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-all duration-200"
                           role="menuitem"
                           aria-current="{% if request.endpoint and 'segments' in request.endpoint %}page{% else %}false{% endif %}">
                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5V7a2 2 0 00-2-2H5a2 2 0 00-2-2v10a2 2 0 002 2h14a2 2 0 002-2z" />
                            </svg>
                            Segments
                        </a>
                          <a href="{{ url_for('presets.presets_dashboard') }}" 
                           class="nav-link {% if request.endpoint and 'presets' in request.endpoint %}border-primary-500 text-primary-600{% else %}border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300{% endif %} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-all duration-200"
                           role="menuitem"
                           aria-current="{% if request.endpoint and 'presets' in request.endpoint %}page{% else %}false{% endif %}">
                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4" />
                            </svg>
                            Presets
                        </a>
                    </div>
                </div>
                
                <!-- Right side navigation -->
                <div class="hidden md:ml-6 md:flex md:items-center space-x-4">
                    <!-- Help button -->
                    <button id="help-btn" 
                            class="bg-white rounded-full p-2 text-gray-400 hover:text-gray-500 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-all duration-200"
                            aria-label="Open help and documentation"
                            title="Help & Documentation (Press ? for keyboard shortcuts)">
                        <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                    </button>
                    
                    <!-- System status indicator -->
                    <div class="relative">
                        <button id="system-status-btn" 
                                class="bg-white rounded-full p-2 text-gray-400 hover:text-gray-500 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-all duration-200"
                                aria-label="System status indicator"
                                title="System Status">
                            <span class="sr-only">System Status</span>
                            <div id="status-indicator" class="h-3 w-3 bg-yellow-400 rounded-full animate-pulse" aria-hidden="true"></div>
                        </button>
                        
                        <!-- Status tooltip -->
                        <div id="status-tooltip" class="hidden absolute right-0 mt-2 w-64 bg-white border border-gray-200 rounded-md shadow-lg p-3 z-50">
                            <div class="text-sm text-gray-600">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="font-medium">System Status</span>
                                    <div id="connection-status" class="text-xs text-gray-500">Connecting...</div>
                                </div>
                                <div id="status-details" class="text-xs text-gray-500">
                                    Checking system health...
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Theme toggle -->
                    <button id="theme-toggle" 
                            class="bg-white rounded-full p-2 text-gray-400 hover:text-gray-500 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-all duration-200"
                            aria-label="Toggle dark mode"
                            title="Toggle Theme">
                        <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                        </svg>
                    </button>
                </div>
                
                <!-- Mobile menu button -->
                <div class="md:hidden flex items-center">
                    <button id="mobile-menu-btn" 
                            class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500 transition-all duration-200"
                            aria-expanded="false"
                            aria-controls="mobile-menu"
                            aria-label="Open main menu">
                        <span class="sr-only">Open main menu</span>
                        <svg class="h-6 w-6 block" stroke="currentColor" fill="none" viewBox="0 0 24 24" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                        <svg class="h-6 w-6 hidden" stroke="currentColor" fill="none" viewBox="0 0 24 24" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
            </div>        </div>
        
        <!-- Enhanced Mobile menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-gray-200" role="menu">
            <div class="pt-2 pb-3 space-y-1">
                <a href="{{ url_for('main.index') }}" 
                   class="mobile-nav-link block pl-3 pr-4 py-3 border-l-4 text-base font-medium transition-all duration-200 {% if request.endpoint == 'main.index' %}bg-primary-50 border-primary-500 text-primary-700{% else %}border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50 hover:border-gray-300{% endif %}"
                   role="menuitem">
                    <div class="flex items-center">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z" />
                        </svg>
                        Dashboard
                    </div>
                </a>
                
                <a href="{{ url_for('episodes.episodes_dashboard') }}" 
                   class="mobile-nav-link block pl-3 pr-4 py-3 border-l-4 text-base font-medium transition-all duration-200 {% if request.endpoint == 'episodes.episodes_dashboard' %}bg-primary-50 border-primary-500 text-primary-700{% else %}border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50 hover:border-gray-300{% endif %}"
                   role="menuitem">
                    <div class="flex items-center">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2h4a1 1 0 011 1v2H3V5a1 1 0 011-1h3z" />
                        </svg>
                        Episodes
                    </div>
                </a>
                  <a href="{{ url_for('pipeline.pipeline_dashboard') }}" 
                   class="mobile-nav-link block pl-3 pr-4 py-3 border-l-4 text-base font-medium transition-all duration-200 {% if request.endpoint and 'pipeline' in request.endpoint %}bg-primary-50 border-primary-500 text-primary-700{% else %}border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50 hover:border-gray-300{% endif %}"
                   role="menuitem">
                    <div class="flex items-center">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                        </svg>
                        Pipeline
                    </div>
                </a>
                  <a href="{{ url_for('segments.segments_dashboard') }}" 
                   class="mobile-nav-link block pl-3 pr-4 py-3 border-l-4 text-base font-medium transition-all duration-200 {% if request.endpoint and 'segments' in request.endpoint %}bg-primary-50 border-primary-500 text-primary-700{% else %}border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50 hover:border-gray-300{% endif %}"
                   role="menuitem">
                    <div class="flex items-center">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5V7a2 2 0 00-2-2H5a2 2 0 00-2-2v10a2 2 0 002 2h14a2 2 0 002-2z" />
                        </svg>
                        Segments
                    </div>
                </a>
                  <a href="{{ url_for('presets.presets_dashboard') }}" 
                   class="mobile-nav-link block pl-3 pr-4 py-3 border-l-4 text-base font-medium transition-all duration-200 {% if request.endpoint and 'presets' in request.endpoint %}bg-primary-50 border-primary-500 text-primary-700{% else %}border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50 hover:border-gray-300{% endif %}"
                   role="menuitem">
                    <div class="flex items-center">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4" />
                        </svg>
                        Presets
                    </div>
                </a>
            </div>
            
            <!-- Mobile utility buttons -->
            <div class="pt-4 pb-3 border-t border-gray-200">
                <div class="flex items-center justify-around px-4 space-x-4">
                    <button id="mobile-help-btn" 
                            class="flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-md text-sm font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500"
                            aria-label="Open help">
                        <div class="flex items-center justify-center">
                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            Help
                        </div>
                    </button>
                    
                    <button id="mobile-theme-toggle" 
                            class="flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-md text-sm font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500"
                            aria-label="Toggle theme">
                        <div class="flex items-center justify-center">
                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                            </svg>
                            Theme
                        </div>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main content -->
    <main id="main-content" class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8" role="main">
        <!-- Enhanced Flash messages with animations -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <div id="flash-messages" class="mb-6 space-y-3">
                    {% for category, message in messages %}
                        <div class="flash-message animate-fade-in alert alert-{{ category }} 
                                   {% if category == 'error' %}bg-error-50 border-error-200 text-error-700
                                   {% elif category == 'success' %}bg-success-50 border-success-200 text-success-700
                                   {% elif category == 'warning' %}bg-warning-50 border-warning-200 text-warning-700
                                   {% else %}bg-primary-50 border-primary-200 text-primary-700{% endif %} 
                                   border rounded-lg px-4 py-3 relative shadow-sm"
                             role="alert"
                             aria-live="polite">
                            <div class="flex items-start">
                                <div class="flex-shrink-0">
                                    {% if category == 'error' %}
                                        <svg class="h-5 w-5 text-error-400" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" />
                                        </svg>
                                    {% elif category == 'success' %}
                                        <svg class="h-5 w-5 text-success-400" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                                        </svg>
                                    {% elif category == 'warning' %}
                                        <svg class="h-5 w-5 text-warning-400" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                                            <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
                                        </svg>
                                    {% else %}
                                        <svg class="h-5 w-5 text-primary-400" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
                                        </svg>
                                    {% endif %}
                                </div>
                                <div class="ml-3 flex-1">
                                    <p class="text-sm font-medium">{{ message }}</p>
                                </div>
                                <div class="ml-auto pl-3">
                                    <button class="flash-close inline-flex rounded-md p-1.5 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200"
                                            aria-label="Dismiss notification">
                                        <svg class="h-4 w-4" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                                            <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            {% endif %}
        {% endwith %}
        
        <!-- Page content -->
        {% block content %}{% endblock %}    </main>

    <!-- Enhanced Footer -->
    <footer class="bg-white border-t border-gray-200 mt-auto">
        <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
            <div class="md:flex md:items-center md:justify-between">
                <div class="flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-4">
                    <div class="text-sm text-gray-600">
                        <span class="font-medium">YouTube Pipeline UI</span> - Professional Content Processing
                    </div>
                    <div class="text-xs text-gray-500">
                        Created with <span class="text-red-500" aria-hidden="true">â™¥</span> using APM Framework
                    </div>
                </div>
                
                <div class="mt-4 md:mt-0 flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-4">
                    <div class="text-xs text-gray-500">
                        <span class="inline-flex items-center">
                            Phase 6: Polish & Testing 
                            <span class="ml-1 text-green-500" aria-hidden="true">âœ…</span>
                        </span>
                    </div>                    <div class="text-xs text-gray-400">
                        Last updated: <time datetime="{{ now.strftime('%Y-%m-%d') }}">{{ now.strftime('%B %d, %Y') }}</time>
                    </div>
                </div>
            </div>
            
            <!-- Keyboard shortcuts hint -->
            <div class="mt-4 pt-4 border-t border-gray-100">
                <div class="text-xs text-gray-400 text-center">
                    Press <kbd class="px-1.5 py-0.5 text-xs font-mono bg-gray-100 text-gray-600 rounded">?</kbd> for keyboard shortcuts
                </div>
            </div>
        </div>
    </footer>

    <!-- Help System Modal -->
    <div id="help-modal" class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50" role="dialog" aria-modal="true" aria-labelledby="help-modal-title">
        <div class="relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white">
            <div class="mt-3">
                <!-- Modal Header -->
                <div class="flex items-center justify-between pb-4 border-b border-gray-200">
                    <h3 id="help-modal-title" class="text-lg font-semibold text-gray-900">
                        Help & Documentation
                    </h3>
                    <button id="help-modal-close" class="text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-primary-500 rounded-md p-1">
                        <span class="sr-only">Close help modal</span>
                        <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
                
                <!-- Modal Content -->
                <div class="mt-4 max-h-96 overflow-y-auto">
                    <!-- Keyboard Shortcuts -->
                    <div class="mb-6">
                        <h4 class="text-md font-medium text-gray-900 mb-3">Keyboard Shortcuts</h4>
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between items-center py-1">
                                <span class="text-gray-700">Open Help</span>
                                <kbd class="px-2 py-1 text-xs font-mono bg-gray-100 text-gray-600 rounded">?</kbd>
                            </div>
                            <div class="flex justify-between items-center py-1">
                                <span class="text-gray-700">Toggle Theme</span>
                                <kbd class="px-2 py-1 text-xs font-mono bg-gray-100 text-gray-600 rounded">Ctrl</kbd>
                                <span class="text-gray-400">+</span>
                                <kbd class="px-2 py-1 text-xs font-mono bg-gray-100 text-gray-600 rounded">Shift</kbd>
                                <span class="text-gray-400">+</span>
                                <kbd class="px-2 py-1 text-xs font-mono bg-gray-100 text-gray-600 rounded">T</kbd>
                            </div>
                            <div class="flex justify-between items-center py-1">
                                <span class="text-gray-700">Focus Search</span>
                                <kbd class="px-2 py-1 text-xs font-mono bg-gray-100 text-gray-600 rounded">Ctrl</kbd>
                                <span class="text-gray-400">+</span>
                                <kbd class="px-2 py-1 text-xs font-mono bg-gray-100 text-gray-600 rounded">K</kbd>
                            </div>
                            <div class="flex justify-between items-center py-1">
                                <span class="text-gray-700">Close Modal/Overlay</span>
                                <kbd class="px-2 py-1 text-xs font-mono bg-gray-100 text-gray-600 rounded">Esc</kbd>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Navigation Guide -->
                    <div class="mb-6">
                        <h4 class="text-md font-medium text-gray-900 mb-3">Navigation Guide</h4>
                        <div class="space-y-3 text-sm text-gray-700">
                            <div class="flex items-start space-x-3">
                                <div class="flex-shrink-0 w-6 h-6 bg-primary-100 rounded-full flex items-center justify-center">
                                    <span class="text-primary-600 text-xs">1</span>
                                </div>
                                <div>
                                    <strong>Episodes:</strong> Browse and select YouTube episodes for processing
                                </div>
                            </div>
                            <div class="flex items-start space-x-3">
                                <div class="flex-shrink-0 w-6 h-6 bg-primary-100 rounded-full flex items-center justify-center">
                                    <span class="text-primary-600 text-xs">2</span>
                                </div>
                                <div>
                                    <strong>Pipeline:</strong> Configure and execute the 7-stage processing workflow
                                </div>
                            </div>
                            <div class="flex items-start space-x-3">
                                <div class="flex-shrink-0 w-6 h-6 bg-primary-100 rounded-full flex items-center justify-center">
                                    <span class="text-primary-600 text-xs">3</span>
                                </div>
                                <div>
                                    <strong>Segments:</strong> Fine-tune content selection with manual segment control
                                </div>
                            </div>
                            <div class="flex items-start space-x-3">
                                <div class="flex-shrink-0 w-6 h-6 bg-primary-100 rounded-full flex items-center justify-center">
                                    <span class="text-primary-600 text-xs">4</span>
                                </div>
                                <div>
                                    <strong>Presets:</strong> Save and manage workflow configurations for reuse
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- System Status -->
                    <div class="mb-6">
                        <h4 class="text-md font-medium text-gray-900 mb-3">System Status Indicators</h4>
                        <div class="space-y-2 text-sm">
                            <div class="flex items-center space-x-3">
                                <div class="w-3 h-3 bg-green-400 rounded-full"></div>
                                <span class="text-gray-700">System Online - All services operational</span>
                            </div>
                            <div class="flex items-center space-x-3">
                                <div class="w-3 h-3 bg-yellow-400 rounded-full animate-pulse"></div>
                                <span class="text-gray-700">Processing - Pipeline stages executing</span>
                            </div>
                            <div class="flex items-center space-x-3">
                                <div class="w-3 h-3 bg-red-400 rounded-full"></div>
                                <span class="text-gray-700">Error - Check system logs for details</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Quick Tips -->
                    <div class="mb-4">
                        <h4 class="text-md font-medium text-gray-900 mb-3">Quick Tips</h4>
                        <div class="space-y-2 text-sm text-gray-700">
                            <div class="flex items-start space-x-2">
                                <span class="text-primary-500 font-bold">â€¢</span>
                                <span>Use presets to save frequently used configurations</span>
                            </div>
                            <div class="flex items-start space-x-2">
                                <span class="text-primary-500 font-bold">â€¢</span>
                                <span>Monitor pipeline progress in real-time via the status indicators</span>
                            </div>
                            <div class="flex items-start space-x-2">
                                <span class="text-primary-500 font-bold">â€¢</span>
                                <span>Use segment selection for fine-grained content control</span>
                            </div>
                            <div class="flex items-start space-x-2">
                                <span class="text-primary-500 font-bold">â€¢</span>
                                <span>All actions are logged and can be reviewed in system logs</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Modal Footer -->
                <div class="flex justify-end pt-4 border-t border-gray-200">
                    <button id="help-modal-ok" class="px-4 py-2 bg-primary-600 text-white text-sm font-medium rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 transition-colors duration-200">
                        Got it, thanks!
                    </button>
                </div>
            </div>
        </div>
    </div>    <!-- SocketIO for real-time updates -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
    
    <!-- Core JavaScript Infrastructure -->
    <script src="{{ url_for('static', filename='js/socketio-client.js') }}"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    
    <!-- UI Enhancements and Polish -->
    <script src="{{ url_for('static', filename='js/ui-enhancements.js') }}"></script>
    
    <!-- Component JavaScript -->
    <script src="{{ url_for('static', filename='js/pipeline.js') }}"></script>
    <script src="{{ url_for('static', filename='js/segments.js') }}"></script>
    
    <!-- Legacy compatibility scripts -->
    <script src="{{ url_for('static', filename='js/core.js') }}"></script>
    <script src="{{ url_for('static', filename='js/pipeline-monitor.js') }}"></script>
    <script src="{{ url_for('static', filename='js/pipeline-integration.js') }}"></script>
    <script src="{{ url_for('static', filename='js/segment-selection.js') }}"></script>
    
    <!-- Component registration and coordination -->
    <script>
        // Register components with SocketIO client after all scripts load
        document.addEventListener('DOMContentLoaded', function() {
            // Ensure YouTubePipelineUI namespace exists
            window.YouTubePipelineUI = window.YouTubePipelineUI || {};
            
            // Register components with SocketIO client for coordination
            setTimeout(() => {
                const socketClient = window.YouTubePipelineUI.socketClient;
                
                if (socketClient) {
                    // Register main components
                    if (window.YouTubePipelineUI.mainDashboard) {
                        socketClient.registerComponent('mainDashboard', window.YouTubePipelineUI.mainDashboard);
                    }
                    
                    if (window.YouTubePipelineUI.pipelineController) {
                        socketClient.registerComponent('pipelineController', window.YouTubePipelineUI.pipelineController);
                    }
                    
                    if (window.YouTubePipelineUI.segmentManager) {
                        socketClient.registerComponent('segmentManager', window.YouTubePipelineUI.segmentManager);
                    }
                    
                    // Legacy compatibility
                    if (window.YouTubePipelineUI.pipelineMonitor) {
                        socketClient.registerComponent('pipelineMonitor', window.YouTubePipelineUI.pipelineMonitor);
                    }
                    
                    console.log('ðŸŽ¯ All components registered with SocketIO client');
                }
            }, 1000);
        });
    </script>
    
    <!-- Page-specific JavaScript -->
    {% block scripts %}{% endblock %}
</body>
</html>
